<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title th:text="#{appName}"></title>
	<link rel="stylesheet" type="text/css" media="all" href="/css/main_style.css" />
	<link rel="stylesheet" type="text/css" media="all" href="/css/menu_bar.css" />
	<link rel="stylesheet" type="text/css" media="all" href="/css/table_style.css" />
	<link rel="stylesheet" type="text/css" media="all" href="/css/user/user_style.css" />
	<link rel="stylesheet" type="text/css" media="all" href="/css/user/report_style.css" />
	<link rel="stylesheet" type="text/css" media="all" href="/css/user/usercolors_style.css" />
</head>
<body>
	<header th:replace="fragments/top :: top"></header>
	<nav th:replace="user/fragments/menu :: menu"></nav>
	<section id="container">
	<div class="header-container">
			<h1 class="header-header" th:text="#{menu.reports}"></h1>
		</div>
	<!-- ************************************************************************* -->
	<div class="button-panel">
		<div class="common-bpanel">
		<div class="row">
			<!-- <h3 th:text="#{report.Different}"></h3> -->
		</div>
		<div class="row">
			<div class="col">
				<div class="tiles">
					<form th:action="@{/reports}" method="post">
						<input type="hidden" name="reportType" value="WITHPESEL">
						<button type="submit" name="action" value="common" th:text="#{report.withPESEL}"></button>
					</form>
				</div>			
				<div class="tiles">
					<form th:action="@{/reports}" method="post">
						<input type="hidden" name="reportType" value="WITHOUTPESEL">
						<button type="submit" name="action" value="common" th:text="#{report.withoutPESEL}"></button>
					</form>
				</div>
			</div>
			
			
			
			<div class="col">
				<div class="tiles">
					<form th:action="@{/reports}" method="post">
						<input type="hidden" name="reportType" value="MEDICALEXAMS">
						<button type="submit" name="action" value="common" th:text="#{report.medicalexaminations}"></button>
					</form>
				</div>
				<div class="tiles">
					<form th:action="@{/reports}" method="post">
						<input type="hidden" name="reportType" value="ACCOMMODATION">
						<button type="submit" name="action" value="common" th:text="#{report.freeplace}"></button>
					</form>
				</div>
			</div>
				
		
		
			<div class="col">
				<div class="tiles">
					<form th:action="@{/reports}" method="post">
						<input type="hidden" name="reportType" value="STARTWORK_LESS1MON">
						<button type="submit" name="action" value="common" th:text="#{report.startWorkless1mon}"></button>
					</form>
				</div>
				<div class="tiles">
					<form th:action="@{/reports}" method="post">
						<input type="hidden" name="reportType" value="STARTWORK_MORE1MON">
						<button type="submit" name="action" value="common" th:text="#{report.startWorkmore1mon}"></button>
					</form>
				</div>
			</div>
			
			
			
			<div class="col">
				<div class="tiles">
					<form th:action="@{/reports}" method="post">
						<input type="hidden" name="reportType" value="STARTWORK_LESS3MON">
						<button type="submit" name="action" value="common" th:text="#{report.startWorkless3mon}"></button>
					</form>
				</div>
				<div class="tiles">
					<form th:action="@{/reports}" method="post">
						<input type="hidden" name="reportType" value="STARTWORK_MORE3MON">
						<button type="submit" name="action" value="common" th:text="#{report.startWorkmore3mon}"></button>
					</form>
				</div>
			</div>
			
		</div>
		
		<div class="row" style="margin-top: 10px">
			<div class="col">
				<div class="tiles">
					<form th:action="@{/reports}" method="post">			
						<input type="hidden" name="reportType" value="WORKING_TIME">
						<button type="submit" name="action" value="common">Work time</button>	
					</form>
				</div>
				
				<div class="cell">
				</div>
				
			</div>
			
			<div class="col">
			</div>
			
			<div class="col">
			</div>
			
			<div class="col" style="border: 1px solid black">
				<form th:action="@{/reports}" method="post">
				<div class="tiles">
					<input type="hidden" name="reportType" value="RECRUITERS">
					<select id="recruiterid" name="recruiterid">	
						<option th:each="r : ${recruiters}" th:value="${r.id}" th:text="${r.value}"></option>
					</select>	
				</div>
				<div class="tiles">
					<button type="submit" name="action" value="recruiter" th:text="#{label.recruiter}"></button>
				</div>
				</form>
			</div>
		</div>
		
		<div class="row" style="margin-top: 10px;">
			<form th:action="@{/reports/download}" method="post">
				<input type="hidden"  name="reportType" th:value="${wraper.reportType}">
				<input th:if="${wraper.reportType == 'RECRUITERS'}" type="hidden" name="recruiterid" th:value="${recruiterid}">
				<button th:if="${others == true and wraper.report.isEmpty() == false}" class="bdownload" type="submit" th:text="#{button.download}"></button>
				<button th:unless="${others == true and wraper.report.isEmpty() == false}" class="bdownload" type="submit" disabled th:text="#{button.download}"></button>
			</form>
		</div>
		
		
	</div>
	
	<div class="mont-bpanel">
		<div class="row">
			<h3 th:text="#{msg.report.howManyPeopelStatement}"></h3>
		</div>
		<div class="row">
			<div class="col-b">
				<form th:action="@{/reports}" method="post">
					<div class="cell">
						<input type="hidden" name="reportType" value="STATEMENTVISA">
						<input type="month" name="month">
					</div>
					<div class="cell">
						<button type="submit" name="action" value="month">INVITATION</button>
					</div>
				</form>	
			</div>	
			<div class="col-b">
				<form th:action="@{/reports}" method="post">
					<div class="cell">
						<input type="hidden" name="reportType" value="STATEMENTWORK">
						<input type="month" name="month">
					</div>
					<div class="cell">
						<button type="submit" name="action" value="month">ALREADY IN POLAND</button>
					</div>
				</form>				
			</div>
			
		</div>
		
		<div class="row">
			<form th:action="@{/reports/download}" method="post">
				<input type="hidden"  name="reportType" th:value="${wraper.reportType}">
				<input th:if="${month != null}" type="hidden" name="month" th:value="${month}">
				<button class="bdownload"  th:if="${month != null and wraper.report.isEmpty() == false}"  type="submit" name="action" value="month" th:text="#{button.download}"></button>
				<button class="bdownload"  th:unless="${month != null and wraper.report.isEmpty() == false}"  type="submit" name="action" value="month" disabled th:text="#{button.download}"> </button>
			</form>
		</div>
	</div>
		
		
	<div class="zus-bpanel">
		<div class="row">
			<h3 th:text="#{report.ZusReport}"></h3>
		</div>
		<form th:action="@{/reports}" method="post">
		<div class="row">
			<div class="col" style="width: 50%">
				<div class="cell">
					<label for="companyid" th:text="#{company}"></label>
				</div>
				<div class="cell">
					<label for="comapnyid"></label>
				</div>
				<div class="cell">
					<select id="companyid" name="companyid">
						<option th:each="c : ${comapnies}" th:value="${c.id}" th:text="${c.shortname}"></option>
					</select>
				</div>
				
			</div>
			<div class="col" style="width: 50%">
				<div class="cell">
					<label for="factoryid" th:text="#{factory}"></label>
				</div>
				<div class="cell">
					<label for="factoryid"></label>
				</div>
				<div class="cell">					
					<select id="factoryid" name="factoryid">
						<option th:each="f : ${factroies}" th:value=${f.id} th:text="${f.shortname}"></option>
					</select>
				</div>
				
			</div>
			
		</div>
		<div class="row">
			<div class="col" style="width: 50%">
				<div class="cell">
					<label>Type</label>
				</div>
				<div class="cell">
					<select name="zusSearchingType">
						<option value="startZus">from start ZUS</option>
						<option value="endZus">end ZUS</option>
					</select>
				</div>
			</div>
			<div class="col" style="width: 50%">
				<div class="cell">
					<label for="datefrom" th:text="#{report.fromDate}"></label>
				</div>
				<div class="cell">
					<input th:if="${datefrom != null}" type="date" name="datefrom" id="datefrom" th:value="${datefrom}">
					<input th:unless="${datefrom != null}" type="date" name="datefrom" id="datefrom">
				</div>
			</div>
		</div>
		<div class="row">
			<input type="hidden" name="reportType" value="ZUS">
			<button  style="width: 100%; height: 40px; margin-bottom: 10px;" type="submit" name="action" value="zus" >ZUS</button>
		</div>
		</form>
		
		<div class="row">
			<form th:action="@{/reports/download}" method="post">
				<input type="hidden"  name="reportType" th:value="${wraper.reportType}">
				<input th:if="${companyid != null}" type="hidden" name="companyid" th:value="${companyid}">
				<input th:if="${factoryid != null}" type="hidden" name="factoryid" th:value="${factoryid}">
				<input th:if="${datefrom != null}" type="hidden" name="datefrom" id="datefrom" th:value="${datefrom}">				
				<button class="bdownload" th:if="${companyid == null or factoryid == null or datefrom == null}"  type="submit" name="action" value="zus" disabled th:text="#{button.download}"></button>
				<button class="bdownload" th:unless="${companyid == null or factoryid == null or datefrom == null}"  type="submit" name="action" value="zus" th:text="#{button.download}"></button>
			</form>
		</div>
	
	</div>

	</div>
	
	<div class="div-switch" th:switch="${wraper.reportType}">	
		<div th:case="'WITHPESEL'">
			<table>
				<tr>
					<th th:text="#{firstname}"></th>
					<th th:text="#{lastname}"></th>
					<th th:text="#{pesel}"></th>
					<th th:text="#{factory}"></th>
				</tr>
				<tr th:each="i : ${wraper.report}">
					<td th:text="${i.firstname}"></td>
					<td th:text="${i.lastname}"></td>
					<td th:text="${i.pesel}"></td>
					<td th:text="${i.factory}"></td>
				</tr>
				
			</table>
		</div>
		<!--*************** CASE ************************ -->
		<div th:case="'WITHOUTPESEL'">
			<table>
				<tr>
					<th th:text="#{firstname}"></th>
					<th th:text="#{lastname}"></th>
					<th th:text="#{pesel}"></th>
					<th th:text="#{factory}"></th>
				</tr>
				<tr th:each="i : ${wraper.report}">
					<td th:text="${i.firstname}"></td>
					<td th:text="${i.lastname}"></td>
					<td th:text="${i.pesel}"></td>
					<td th:text="${i.factory}"></td>
				</tr>
				
			</table>
		</div>
		<!--*************** CASE ************************ -->
		<div th:case=WORKING_TIME>
			<table>
				<tr>
					<th th:text="#{firstname}"></th>
					<th th:text="#{lastname}"></th>
					<th th:text="#{start.medical.exam}"></th>
					<th th:text="#{end.medical.exam}"></th>
				</tr>
				<tr th:each="i : ${wraper.report}">
					<td th:text="${i.firstname}"></td>
					<td th:text="${i.lastname}"></td>
					<td th:text="${i.company}"></td>
					<td th:if="${i.greaterThansixteen == true}" style="background-color: yellow;" th:text="${i.months + ' months and ' + i.days + ' days'}"></td>
					<td th:unless="${i.greaterThansixteen == true}" th:text="${i.months + ' months and ' + i.days + ' days'}"></td>
				</tr>
				
			</table>
		</div>
		<!--*************** CASE ************************ -->
		<div th:case="'MEDICALEXAMS'">
			<table>
				<tr>
					<th th:text="#{firstname}"></th>
					<th th:text="#{lastname}"></th>
					<th th:text="#{start.medical.exam}"></th>
					<th th:text="#{end.medical.exam}"></th>
					<th th:text="#{factory}"></th>
				</tr>
				<tr th:each="i : ${wraper.report}">
					<td th:text="${i.firstname}"></td>
					<td th:text="${i.lastname}"></td>
					<td th:text="${i.statrtMedical}"></td>
					<td th:text="${i.endMedical}"></td>
					<td th:text="${i.factory}"></td>
				</tr>
				
			</table>
		</div>
		<!--*************** CASE ************************ -->
		<div th:case="'RECRUITERS'">
			<table>
				<tr>
					<th th:text="#{report.recruiterName}"></th>
					<th th:text="#{report.recruiterSurname}"></th>
					<th th:text="#{report.workerName}"></th>
					<th th:text="#{report.workerSurame}"></th>
					<th th:text="#{report.dateAdded}"></th>
				</tr>
				<tr th:each="i : ${wraper.report}">
					<td th:text="${i.rfirstname}"></td>
					<td th:text="${i.rlastname}"></td>
					<td th:text="${i.wfirstname}"></td>
					<td th:text="${i.wlastname}"></td>
					<td th:text="${i.addtosystem}"></td>
				</tr>
				
			</table>
		</div>
		<!--*************** CASE ************************ -->
		<div th:replace="user/report/startworkfragment :: startworkfragment"></div>
		<div th:replace="user/report/statementfragment :: statementfragment"></div>
		<!--*************** CASE ************************ -->
		<div th:case="'ACCOMMODATION'">
			<table>
				<tr>
					<th th:text="#{address}"></th>
					<th th:text="#{report.numberOfBeds}"></th>
					<th th:text="#{report.freeBeds}"></th>
				</tr>
				<tr th:each="i : ${wraper.report}">
					<td th:text="${i.address}"></td>
					<td th:text="${i.capacity}"></td>
					<td th:text="${i.free}"></td>			
				</tr>
				
			</table>
		</div>
		<!--*************** CASE ************************ -->
		<div th:case="'ZUS'">
			<table>
				<tr>
					<th th:text="#{company}"></th>					
					<th th:text="#{factory}"></th>
					<th th:text="#{firstname}"></th>
					<th th:text="#{lastname}"></th>
					<th th:text="#{sex}"></th>
					<th th:text="#{dateofbirth}"></th>
					<th th:text="#{passport}"></th>
					<th th:text="#{pesel}"></th>
					<th th:text="#{address}"></th>
					<th th:text="#{start.zus}"></th>
					<th th:text="#{end.zus}"></th>
					<th th:text="#{statement}"></th>
				</tr>
				<tr th:each="i : ${wraper.report}">
					<td th:text="${i.company}"></td>
					<td th:text="${i.facotry}"></td>
					<td th:text="${i.firstname}"></td>
					<td th:text="${i.lastname}"></td>
					<td th:text="${i.sex}"></td>
					<td th:text="${i.dateofbirth}"></td>
					<td th:text="${i.passport}"></td>
					<td th:text="${i.pesel}"></td>
					<td th:text="${i.address}"></td>
					<td th:text="${i.startZus}"></td>
					<td th:text="${i.endZus}"></td>
					<td th:text="${i.type}"></td>	
				</tr>
				
			</table>
		</div>
	</div>

	<!-- ************************************************************************* -->
	</section>
	<footer class="footer" th:replace="fragments/footer :: footer"></footer>
</body>

</html>
